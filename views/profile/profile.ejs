<% layout("/layouts/boilerplate") %>

<div class="container mt-4">

  
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3 class="fw-bold">@<%= user.username %></h3>

    <div class="d-flex gap-2">
     
      <a href="/posts/new" class="btn btn-pink rounded-pill">
        + Create Post
      </a>
     

      
        <a href="/logout" class="btn btn-outline-danger rounded-pill">
          Logout
        </a>
     
    </div>
  </div>

 
  <div class="d-flex gap-4 mb-4">
    <div>
      <h5 class="fw-bold"><%= followersCount %></h5>
      <span class="text-muted">Followers</span>
    </div>
    <div>
      <h5 class="fw-bold"><%= followingCount %></h5>
      <span class="text-muted">Following</span>
    </div>
  </div>


  <div class="row">
    <% if(posts.length === 0) { %>
      <p class="text-muted">You havenâ€™t posted anything yet.</p>
    <% }else { %>

    <% posts.forEach(post => { %>
         
      <div class="col-sm-6 col-md-4 mb-4">
        <a href="/posts/<%=post._id%>" class="post-link" ></a>
        <div class="card border-0 shadow-sm rounded-4 h-100">
          <img src="<%=post.image%>" class="card-img-top rounded-top-4">
          <div class="card-body">
            <p class="mb-0"><%= post.caption %></p>
          </div>
        </div>
      </div>
      </a>
    <% }) %>
    <% } %>
  </div>

</div>
